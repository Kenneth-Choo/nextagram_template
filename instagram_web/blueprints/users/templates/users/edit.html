{% extends "_layout.html" %}
{% block content %}
<style>
    #profile-pic-edit {
        max-width: 100%;
        max-height: 70vh
    }
</style>

<div class="container-fluid m-auto p-4">
    <h1>Edit Profile</h1>
        <hr>
    <div class="row">
        <form action="{{ url_for('users.upload_pic', id=current_user.id) }}" class="col-md-3" enctype="multipart/form-data" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <div class="text-center">
                <img src="{{current_user.profile_image_url}}" id="profile-pic-edit" class="avatar rounded-circle" alt="avatar">
                <h6>Upload a photo</h6>
                <input type="file" name="profile_pic" class="form-control p-1">
                <input type="submit" class="btn btn-success m-3" value="Upload"/>
            </div>
        </form>
        
        <div class="col-md-9 personal-info">
        <h2>Personal info</h2>
        
        <form action="{{ url_for('users.update', id=current_user.id)}}" class="form-horizontal" role="form" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <div class="form-group">
                <label class="control-label">Username:</label>
                <input class="form-control" name="username_update" type="text" required>
            </div>

            <div class="form-group">
                <label class="control-label">Email:</label>
                <input class="form-control" name="email_update" type="text" required>
            </div>

            <div class="form-group">
                <label class="control-label">Password:</label>
                <input class="form-control" name="password_update" type="password" required>
            </div>

            <div class="form-group">
            <label class="col-md-3 control-label"></label>
            <div class="col-md-8">
                <input type="submit" class="btn btn-primary" value="Save Changes">
                <input type="reset" class="btn btn-default" value="Cancel">
            </div>
            </div>
        </form>
        </div>
    </div>
</div>

{% endblock %}
